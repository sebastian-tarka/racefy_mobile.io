# Racefy App Environment Configuration
# Copy this file to .env and update with your values
# .env is gitignored and will not be committed

# Local API configuration for development
#
# Option 1 (RECOMMENDED): Use "localhost" with adb reverse (USB-connected devices)
#   - Set API_LOCAL_IP=localhost
#   - Run: npm run start:adb
#   - Automatically handles port forwarding via USB
#   - Works regardless of WiFi network changes
#
# Option 2: Use your actual IP address (WiFi-connected devices)
#   - Find your IP: ip addr show | grep "inet " (Linux) or ipconfig getifaddr en0 (macOS)
#   - Set API_LOCAL_IP=192.168.1.100 (your actual IP)
#   - Device must be on same WiFi network
#   - IP may change when switching networks
#
# See docs/LOCAL_DEV_NETWORK.md for detailed setup guide
API_LOCAL_IP=localhost

# API Port for local development (Laravel Sail default is 8080)
API_LOCAL_PORT=8080

# Use staging API in development mode (set to "true" to use staging instead of local API)
USE_STAGING_IN_DEV=false

# Staging API URL (for testing builds)
API_STAGING_URL=https://app.dev.racefy.io/api

# Production API URL
API_PRODUCTION_URL=https://api.racefy.app/api

# Xdebug debugging (development only)
# Set to true to enable Xdebug trigger on all API requests
# This will add XDEBUG_TRIGGER=PHPSTORM to requests, causing PHP to stop at breakpoints
XDEBUG_ENABLED=false

# ============ DEBUG LOGGING ============
# Development logging configuration
# Logs are stored locally and can be sent to server from Settings

# Master switch - enables/disables all logging (defaults to true in dev mode)
LOG_ENABLED=true

# Minimum log level: debug | info | warn | error
LOG_LEVEL=debug

# Persist logs to local storage (default: true)
LOG_PERSIST=true

# Maximum number of log entries to keep (default: 2000)
LOG_MAX_ENTRIES=2000

# Categories to log: 'all' or comma-separated list
# Available: gps, api, auth, activity, navigation, general
LOG_CATEGORIES=all

# Output logs to console as well (default: true)
LOG_CONSOLE_OUTPUT=true

# ============ BACKGROUND GPS SYNCHRONIZATION ============
# Controls how often GPS points are uploaded to server while app is in background
# Background sync reduces data loss risk during long activities

# Background sync interval in milliseconds (default: 240000 = 4 minutes)
# Min: 60000 (1 minute), Max: 600000 (10 minutes)
# Sport-specific intervals are configured via GPS profiles in the API
BACKGROUND_SYNC_INTERVAL=240000

# Enable/disable background sync globally (default: true)
# Set to "false" to disable background sync for all activities
# Individual sports can override this via GPS profile settings
BACKGROUND_SYNC_ENABLED=true

# Maximum consecutive failures before logging warning (default: 3)
# Used for monitoring and debugging background sync issues
BACKGROUND_SYNC_MAX_FAILURES=3

# ============ MAPBOX ============
# Mapbox public access token for interactive maps
# Get your token at: https://account.mapbox.com/access-tokens/
# Leave empty to fallback to static map images from backend
MAPBOX_ACCESS_TOKEN=

# Mapbox download token for building (same as access token for most cases)
# Required by @rnmapbox/maps during build
RNMAPBOX_MAPS_DOWNLOAD_TOKEN=

# Enable/disable client-side Mapbox (default: true if token is set)
# Set to "false" to force use of static images even with token configured
# Useful for cost control or A/B testing
MAPBOX_ENABLED=true

# ============ GOOGLE SIGN-IN ============
# Google OAuth Client IDs (from Google Cloud Console)
# Web client ID is required for both platforms (used to request ID token)
# iOS client ID is required for iOS builds
GOOGLE_WEB_CLIENT_ID=
GOOGLE_IOS_CLIENT_ID=

# ============ FEATURE FLAGS ============
# Use dynamic (config-based) Home screen
# Set to "true" to use new backend-driven Home screen
# Set to "false" to use original Home screen implementation
USE_DYNAMIC_HOME=false
